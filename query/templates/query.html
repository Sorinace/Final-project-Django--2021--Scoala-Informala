{% extends "base.html" %}
{% block body_block %}
{% load static %}
{% if messages %}
<div class="shadow">
  <ul class="messages">
      {% for message in messages %}
      <div class="alert alert-danger" >
        <h3><strong>Eroare:</strong></h3>
        <li {% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
      </div>
      {% endfor %}
  </ul>
</div>
{% else %}
<div class="shadow">
    <h3>Va rog sa raspundeti la intrebarile de mai jos:</h3>
    <img src = "{% static 'images/quiz.jpg' %}">
  <div class="alert alert-warning" role="alert"> 
    <h3> {{name}}</h3>
    <p>
        {% autoescape off %}
        {{story}}
        {% endautoescape %} 
      </p>
  </div>
    <form action="/answer/" method="post">
      {% csrf_token %}
      <div style="display: none;"><!--  hidden data -->
          <input type="text" name="id" value={{id}}></p>
      </div>
      <div class="card">
        <ul>
        {% for question in page_obj %}
        <div class="shadow move_right">
          <div class="card-header">
            <li >{{question.text}}</li>
          </div>
          <ul class="list-group list-group-flush">
            {% for answer in question.answers.all %}
              <div class="form-check list-group-item">
                <input class="form-check-input" type="radio" name={{question.id}} value={{answer.id}}>
                <label class="form-check-label">
                  {{answer.text}}
                </label>
              </div>
            {% endfor %}
            <br/>
          </ul>
        </div>
        {% endfor %}
        </ul>   
        <div class="pagination">
          <span class="step-links">
              {% if page_obj.has_previous %}
                  <a href="?page={{ page_obj.previous_page_number }}">&laquo; anteriora | </a>
              {% endif %}
      
              <span class="current">
                  Intrebarea {{ page_obj.number }} din {{ page_obj.paginator.num_pages }}.
              </span>
      
              {% if page_obj.has_next %}
                  <a href="?page={{ page_obj.next_page_number }}"> | urmatoarea &raquo;</a>
              {% endif %}
          </span>
        </div>
        {% if not page_obj.has_next %}
        <div class="btn_center">
          <input class="btn_submit" type="submit" value="Trimite">
        </div>
        {% endif %}
      </div>
  </form>
</div>
{% endif %}
{% endblock %}
